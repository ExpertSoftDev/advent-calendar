<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ü—Ä–æ–≥—É–ª–∫–∞-—Å—é—Ä–ø—Ä–∏–∑</title>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    min-height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: background 0.6s, color 0.6s;
  }

  /* üåô –ù–û–ß–¨ */
  body.night {
    background: radial-gradient(circle at center, #1a0933, #000);
    color: #fff;
  }

  /* ‚òÄÔ∏è –î–ï–ù–¨ */
  body.day {
    background: radial-gradient(circle at center, #f4f8ff, #dbe6ff);
    color: #1a1a1a;
  }

  /* ‚ùÑÔ∏è –°–ù–ï–ñ–ò–ù–ö–ò (–Ω–æ—á—å) */
  .snowflake {
    position: fixed;
    top: -20px;
    color: #fff;
    opacity: .8;
    pointer-events: none;
    animation: fall linear infinite;
  }

  body.day .snowflake {
    display: none;
  }

  @keyframes fall {
    to { transform: translateY(110vh); }
  }

  /* ‚ú® –ë–õ–ï–°–ö –°–ù–ï–ì–ê (–¥–µ–Ω—å) */
  .sparkle {
    position: fixed;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: radial-gradient(circle, #fff 0%, rgba(255,255,255,0) 70%);
    opacity: 0;
    pointer-events: none;
    animation: shimmer 4s infinite ease-in-out;
  }

  body.night .sparkle {
    display: none;
  }

  @keyframes shimmer {
    0%   { opacity: 0; transform: scale(0.6); }
    50%  { opacity: 0.9; transform: scale(1.2); }
    100% { opacity: 0; transform: scale(0.6); }
  }

  .card {
    position: relative;
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(8px);
    border-radius: 22px;
    padding: 34px 30px 36px;
    width: 90%;
    max-width: 520px;
    box-shadow:
      0 0 30px rgba(180,120,255,.25),
      inset 0 0 25px rgba(255,255,255,.08);
    text-align: center;
    z-index: 10;
  }

  body.day .card {
    background: rgba(255,255,255,0.75);
    box-shadow:
      0 12px 30px rgba(120,160,255,.35),
      inset 0 0 25px rgba(255,255,255,.9);
  }

  h1 {
    margin-top: 0;
    font-size: 28px;
  }

  #task {
    margin: 30px 0;
    font-size: 21px;
    line-height: 1.4;
    min-height: 90px;
  }

  /* üßä –ö–ù–û–ü–ö–ò */
  #buttons {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding-top: 20px;
    border-top: 1px solid rgba(255,255,255,.15);
  }

  button {
    padding: 14px 18px;
    font-size: 16px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: .25s;
  }

  /* üåô –Ω–æ—á—å */
  body.night button {
    background: rgba(255,255,255,0.22);
    color: #fff;
    box-shadow: inset 0 0 10px rgba(255,255,255,.12);
  }

  /* ‚òÄÔ∏è –¥–µ–Ω—å */
  body.day button {
    background: linear-gradient(
      180deg,
      #ffffff,
      #e9f1ff
    );
    color: #1a1a1a;
    box-shadow:
      0 4px 14px rgba(120,160,255,.45),
      inset 0 0 12px rgba(255,255,255,.9);
  }

  button:hover {
    transform: translateY(-1px);
  }

  /* üåó –¢–£–ú–ë–õ–ï–† */
  #themeToggle {
    position: fixed;
    top: 14px;
    right: 14px;
    font-size: 14px;
    padding: 8px 14px;
    border-radius: 20px;
    z-index: 50;
  }

  #finishScreen {
    display: none;
    margin-top: 10px;
  }

  #finishScreen h2 {
    margin-top: 0;
  }
</style>
</head>

<body class="night">

<button id="themeToggle">‚òÄÔ∏è –î–µ–Ω—å</button>

<script>
  /* ‚ùÑÔ∏è –°–ù–ï–ì */
  for (let i = 0; i < 40; i++) {
    const s = document.createElement('div');
    s.className = 'snowflake';
    s.textContent = '‚ùÑÔ∏è';
    s.style.left = Math.random() * 100 + 'vw';
    s.style.fontSize = 12 + Math.random() * 18 + 'px';
    s.style.animationDuration = 8 + Math.random() * 12 + 's';
    document.body.appendChild(s);
  }

  /* ‚ú® –ë–õ–ï–°–ö */
  for (let i = 0; i < 60; i++) {
    const sp = document.createElement('div');
    sp.className = 'sparkle';
    sp.style.left = Math.random() * 100 + 'vw';
    sp.style.top = Math.random() * 100 + 'vh';
    sp.style.animationDelay = Math.random() * 4 + 's';
    document.body.appendChild(sp);
  }
</script>

<div class="card" id="card">
  <h1 id="title">–ü—Ä–æ–≥—É–ª–∫–∞-—Å—é—Ä–ø—Ä–∏–∑</h1>

  <div id="task">
    –ü–æ—Ä–∞ –≤—ã–π—Ç–∏ –Ω–∞ –ø—Ä–æ–≥—É–ª–∫—É üòâ<br>
    –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏ —Å–º–æ—Ç—Ä–∏, –∫—É–¥–∞ –æ–Ω–∞ –ø—Ä–∏–≤–µ–¥—ë—Ç ‚¨áÔ∏è
  </div>

  <div id="buttons">
    <button id="mainBtn">‚ñ∂Ô∏è –ù–∞—á–Ω—ë–º –ø—Ä–æ–≥—É–ª–∫—É</button>
    <button id="skipBtn">‚è≠ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
    <button id="finishBtn">üèÅ –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≥—É–ª–∫—É</button>
  </div>

  <div id="finishScreen">
    <h2>‚ú® –ü—Ä–æ–≥—É–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞</h2>
    <p>
      –°–ø–∞—Å–∏–±–æ –∑–∞ —ç—Ç—É –ø—Ä–æ–≥—É–ª–∫—É ‚ùÑÔ∏è<br>
      –ù–∞–¥–µ—é—Å—å, –æ–Ω–∞ –ø–æ–ª—É—á–∏–ª–∞—Å—å –ø—Ä–∏—è—Ç–Ω–æ–π –∏ —Å –Ω–æ—Ç–∫–æ–π –≤–æ–ª—à–µ–±—Å—Ç–≤–∞.
    </p>
  </div>
</div>

<script>
/* ===== –ó–ê–î–ê–ù–ò–Ø ===== */
const tasksSource = [
  '–ò–¥–∏ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–∫–∞',
  '–ü–æ–≤–µ—Ä–Ω–∏ –Ω–∞–ª–µ–≤–æ –∏ –∏–¥–∏ –¥–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏',
  '–ü–æ–≤–µ—Ä–Ω–∏ –Ω–∞–ø—Ä–∞–≤–æ –∏ –ø—Ä–æ–π–¥–∏ –æ–¥–∏–Ω –∫–≤–∞—Ä—Ç–∞–ª',
  '–ò–¥–∏ –ø—Ä—è–º–æ, –ø–æ–∫–∞ –Ω–µ —É–≤–∏–¥–∏—à—å –∫–∞—Ñ–µ',
  '–ù–∞–π–¥–∏ —á—Ç–æ-—Ç–æ –∂—ë–ª—Ç–æ–µ –∏ —Å–¥–µ–ª–∞–π —Ñ–æ—Ç–æ',
  '–ù–∞–π–¥–∏ —á—Ç–æ-—Ç–æ –∫—Ä—É–≥–ª–æ–µ –∏ —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π',
  '–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫—Ä–∞—Å–∏–≤–æ–µ –æ–∫–Ω–æ –∏–ª–∏ –≤–∏—Ç—Ä–∏–Ω—É',
  '–ü–æ—Å—á–∏—Ç–∞–π —Ç—Ä–∏ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö —É–∫—Ä–∞—à–µ–Ω–∏—è',
  '–ù–∞–π–¥–∏ —Å–º–µ—à–Ω—É—é –≤—ã–≤–µ—Å–∫—É',
  '–°–¥–µ–ª–∞–π —Ñ–æ—Ç–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏–π –≤ –≤–∏—Ç—Ä–∏–Ω–µ',
  '–ü—Ä–æ–π–¥–∏ 5 –º–∏–Ω—É—Ç –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞',
  '–ó–∞–π–¥–∏ –≤ –ª—é–±–æ–π –º–∞–≥–∞–∑–∏–Ω –∏ –ø—Ä–æ—Å—Ç–æ –æ—Å–º–æ—Ç—Ä–∏—Å—å',
  '–ù–∞–π–¥–∏ –¥–æ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–Ω—å—à–µ –Ω–µ –±—ã–≤–∞–ª',
  '–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –Ω–µ–±–æ –∏ —Å–¥–µ–ª–∞–π —Ñ–æ—Ç–æ',
  '–£–ª—ã–±–Ω–∏—Å—å –∫–æ–º—É-–Ω–∏–±—É–¥—å –ø–æ –¥–æ—Ä–æ–≥–µ'
];

let bag = [];
let currentTask = null;
let started = false;

const taskEl = document.getElementById('task');
const mainBtn = document.getElementById('mainBtn');
const skipBtn = document.getElementById('skipBtn');
const finishBtn = document.getElementById('finishBtn');
const finishScreen = document.getElementById('finishScreen');
const titleEl = document.getElementById('title');

function refillBag() {
  bag = [...tasksSource].sort(() => Math.random() - 0.5);
}

function nextTask() {
  if (bag.length === 0) refillBag();
  currentTask = bag.pop();
  taskEl.textContent = currentTask;
}

mainBtn.onclick = () => {
  if (!started) {
    started = true;
    refillBag();
    nextTask();
    mainBtn.textContent = '‚úÖ –°–¥–µ–ª–∞–Ω–æ';
  } else {
    nextTask();
  }
};

skipBtn.onclick = () => {
  if (!started) return;
  nextTask();
};

finishBtn.onclick = () => {
  taskEl.style.display = 'none';
  document.getElementById('buttons').style.display = 'none';
  titleEl.style.display = 'none';
  finishScreen.style.display = 'block';
};

/* üåó –¢–£–ú–ë–õ–ï–† */
const toggle = document.getElementById('themeToggle');
toggle.onclick = () => {
  document.body.classList.toggle('day');
  document.body.classList.toggle('night');
  toggle.textContent = document.body.classList.contains('day')
    ? 'üåô –ù–æ—á—å'
    : '‚òÄÔ∏è –î–µ–Ω—å';
};
</script>

</body>
</html>
