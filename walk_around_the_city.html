<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ü—Ä–æ–≥—É–ª–∫–∞-—Å—é—Ä–ø—Ä–∏–∑</title>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at center, #1a0933, #000);
    color: #fff;
    min-height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: background 0.5s, color 0.5s;
  }

  /* ‚ùÑÔ∏è –ù–û–ß–ù–´–ï –°–ù–ï–ñ–ò–ù–ö–ò */
  .snowflake {
    position: fixed;
    top: -20px;
    pointer-events: none;
  }

  @keyframes fall {
    to { transform: translateY(110vh); }
  }

  @keyframes sparkle {
    0%,100% { opacity: 0.2; }
    50% { opacity: 0.8; }
  }

  .card {
    position: relative;
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(8px);
    border-radius: 22px;
    padding: 32px 30px 36px;
    width: 90%;
    max-width: 520px;
    box-shadow:
      0 0 30px rgba(180,120,255,.35),
      inset 0 0 25px rgba(255,255,255,.08);
    text-align: center;
    z-index: 10;
  }

  h1 {
    margin-top: 0;
    font-size: 28px;
  }

  #task {
    margin: 30px 0;
    font-size: 21px;
    line-height: 1.4;
    min-height: 90px;
  }

  #buttons {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 20px;
    border-top: 1px solid rgba(255,255,255,.15);
    box-shadow: inset 0 12px 18px rgba(255,255,255,.08);
  }

  button {
    margin: 8px 0;
    padding: 12px 18px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: rgba(255,255,255,0.22);
    color: #fff;
    transition: .2s;
    width: 80%;
    max-width: 280px;
  }

  button:hover {
    background: rgba(200,170,255,.85);
    color: #000;
  }

  #finishScreen {
    display: none;
    text-align: center;
    margin-top: 20px;
  }

  /* –î–ù–ï–í–ù–ê–Ø –¢–ï–ú–ê */
  body.day {
    background: radial-gradient(circle at center, #cce0ff, #87ceeb);
    color: #000;
  }

  body.day button {
    background: rgba(255,255,255,0.45);
    color: #000;
  }

  body.day button:hover {
    background: rgba(255,255,255,0.8);
    color: #000;
  }

  /* –í–µ—Ä—Ö–Ω–∏–π —Ç—É–º–±–ª–µ—Ä */
  #themeToggle {
    position: fixed;
    top: 8px;
    right: 8px;
    z-index: 20;
    padding: 6px 12px;
    border: none;
    border-radius: 20px;
    background: rgba(255,255,255,0.25);
    cursor: pointer;
  }
</style>
</head>

<body class="night">

<div class="card">
  <h1>–ü—Ä–æ–≥—É–ª–∫–∞-—Å—é—Ä–ø—Ä–∏–∑</h1>

  <div id="task">
    –ü–æ—Ä–∞ –≤—ã–π—Ç–∏ –Ω–∞ –ø—Ä–æ–≥—É–ª–∫—É üòâ <br>
    –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏ —Å–º–æ—Ç—Ä–∏, –∫—É–¥–∞ –æ–Ω–∞ –ø—Ä–∏–≤–µ–¥—ë—Ç ‚¨áÔ∏è
  </div>

  <div id="buttons">
    <button id="mainBtn">‚ñ∂Ô∏è –ù–∞—á–Ω—ë–º –ø—Ä–æ–≥—É–ª–∫—É</button>
    <button id="skipBtn">‚è≠ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
    <button id="finishBtn">üèÅ –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≥—É–ª–∫—É</button>
  </div>

  <div id="finishScreen">
    <h2>‚ú® –ü—Ä–æ–≥—É–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞</h2>
    <p>–°–ø–∞—Å–∏–±–æ –∑–∞ —ç—Ç—É –ø—Ä–æ–≥—É–ª–∫—É ‚ùÑÔ∏è<br>–ù–∞–¥–µ—é—Å—å, –æ–Ω–∞ –ø–æ–ª—É—á–∏–ª–∞—Å—å –ø—Ä–∏—è—Ç–Ω–æ–π –∏ —Å –Ω–æ—Ç–∫–æ–π –≤–æ–ª—à–µ–±—Å—Ç–≤–∞.</p>
  </div>
</div>

<!-- –í–µ—Ä—Ö–Ω–∏–π —Ç—É–º–±–ª–µ—Ä -->
<button id="themeToggle">üåô / ‚òÄÔ∏è</button>

<script>
/* ===== –ó–ê–î–ê–ù–ò–Ø ===== */
const tasksSource = [
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞ –∏ –ø–æ–≤–µ—Ä–Ω–∏ –Ω–∞–ø—Ä–∞–≤–æ',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞ –∏ –ø–æ–≤–µ—Ä–Ω–∏ –Ω–∞–ø—Ä–∞–≤–æ',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞ –∏ –ø–æ–≤–µ—Ä–Ω–∏ –Ω–∞–ª–µ–≤–æ',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ —Ä–æ–≤–Ω–æ 100 —à–∞–≥–æ–≤ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Å—å',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏ —Å–≤–µ—Ä–Ω–∏ —Ç—É–¥–∞. –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫, –≤—ã–±–µ—Ä–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–≤–æ–π –≤–∫—É—Å',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∑–¥–∞–Ω–∏—è —Å –±–æ–ª–µ–µ —á–µ–º —Ç—Ä–µ–º—è —ç—Ç–∞–∂–∞–º–∏',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –¥–≤–æ—Ä–∞ –∏–ª–∏ –∞—Ä–∫–∏ –∏ –∑–∞–π–¥–∏ –≤–Ω—É—Ç—Ä—å',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥, –ø–æ–∫–∞ –Ω–µ –¥–æ–π–¥–µ—à—å –¥–æ —É–≥–ª–∞ –¥–æ–º–∞. –û–±–æ–≥–Ω–∏ –¥–æ–º –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–π –ø—É—Ç—å',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –¥–æ—Ä–æ–≥–∞ –º–µ–Ω—è–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏–µ (–∞—Å—Ñ–∞–ª—å—Ç/–ø–ª–∏—Ç–∫–∞/–±—Ä—É—Å—á–∞—Ç–∫–∞ –∏ —Ç.–ø. –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è)',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–π –ª–∞–≤–æ—á–∫–∏ –∏–ª–∏ –º–µ—Å—Ç–∞, –≥–¥–µ –º–æ–∂–Ω–æ –ø—Ä–∏—Å–µ—Å—Ç—å',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–π –≤—ã–≤–µ—Å–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞ –∏–ª–∏ –∫–∞—Ñ–µ',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥, –ø–æ–∫–∞ –Ω–µ –æ–∫–∞–∂–µ—à—å—Å—è –ø–æ–¥ —É–ª–∏—á–Ω—ã–º —Ñ–æ–Ω–∞—Ä–µ–º',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –≤—Ö–æ–¥–∞ –≤ –∑–¥–∞–Ω–∏–µ',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –¥–æ—Ä–æ–≥–∞ —Ä–∞—Å—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π. –í—ã–±–µ—Ä–∏ –ª—é–±–æ–µ –∏ –∏–¥–∏ —Ç—É–¥–∞',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –¥–µ—Ä–µ–≤–∞',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–æ–¥—ä–µ–∑–¥–∞ –∂–∏–ª–æ–≥–æ –¥–æ–º–∞',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–π –ø—Ä–∏–ø–∞—Ä–∫–æ–≤–∞–Ω–Ω–æ–π –º–∞—à–∏–Ω—ã',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –º–µ—Å—Ç–∞, –≥–¥–µ —Ç—Ä–æ—Ç—É–∞—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —É–∂–µ –∏–ª–∏ —à–∏—Ä–µ',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ —â–∏—Ç–∞ –∏–ª–∏ –∞—Ñ–∏—à–∏',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –º–µ—Å—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–æ—Ä–æ–∂–Ω—ã–º–∏ –∑–Ω–∞–∫–∞–º–∏',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –≤—Ö–æ–¥–∞ –≤ –º–∞–≥–∞–∑–∏–Ω –∏–ª–∏ –æ—Ñ–∏—Å',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥, –ø–æ–∫–∞ –Ω–µ –¥–æ–π–¥–µ—à—å –¥–æ –ø–µ—Ä–≤–æ–π –ª–µ—Å—Ç–Ω–∏—Ü—ã (–≤–≤–µ—Ä—Ö –∏–ª–∏ –≤–Ω–∏–∑)',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—á–∫–∏ —Å –∞–¥—Ä–µ—Å–æ–º –∏–ª–∏ –Ω–æ–º–µ—Ä–æ–º –¥–æ–º–∞',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ –ø–æ–¥–∑–µ–º–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–ø—É—Å–∫–∞—Ç—å—Å—è)',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–π –∫–ª—É–º–±—ã –∏–ª–∏ –∑–µ–ª–µ–Ω–æ–π –∑–æ–Ω—ã',
  '–ò–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –º–æ–∂–Ω–æ —Å–º–µ–Ω–∏—Ç—å —Å—Ç–æ—Ä–æ–Ω—É —Ç—Ä–æ—Ç—É–∞—Ä–∞',
  '–ü—Ä–æ–π–¥–∏ –≤–ø–µ—Ä–µ–¥ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Å—å –ø–µ—Ä–µ–¥ –Ω–∏–º',
  '5'
];

let bag = [];
let currentTask = null;
let started = false;

const taskEl = document.getElementById('task');
const mainBtn = document.getElementById('mainBtn');
const skipBtn = document.getElementById('skipBtn');
const finishBtn = document.getElementById('finishBtn');
const finishScreen = document.getElementById('finishScreen');

/* ===== –ú–ï–®–û–ö ===== */
function refillBag() {
  bag = [...tasksSource].sort(() => Math.random() - 0.5);
}

function nextTask() {
  if (bag.length === 0) refillBag();
  currentTask = bag.pop();
  taskEl.textContent = currentTask;
}

/* ===== –ö–ù–û–ü–ö–ò ===== */
mainBtn.onclick = () => {
  if (!started) {
    started = true;
    refillBag();
    nextTask();
    mainBtn.textContent = '‚úÖ –°–¥–µ–ª–∞–Ω–æ';
  } else {
    nextTask();
  }
};

skipBtn.onclick = () => {
  if (!started) return;
  nextTask();
};

finishBtn.onclick = () => {
  taskEl.style.display = 'none';
  document.getElementById('buttons').style.display = 'none';
  finishScreen.style.display = 'block';
};

/* ===== –ù–û–ß–¨/–î–ï–ù–¨ –ò –°–ù–ï–ì ===== */
const toggle = document.getElementById('themeToggle');

function createNightSnowflakes() {
  if (!document.body.classList.contains('night')) return;
  for (let i=0;i<40;i++) {
    const s = document.createElement('div');
    s.className = 'snowflake';
    s.textContent = '‚ùÑÔ∏è';
    s.style.left = Math.random()*100+'vw';
    s.style.fontSize = 12+Math.random()*18+'px';
    s.style.animation = `${8+Math.random()*12}s linear infinite fall`;
    s.style.opacity = Math.random();
    document.body.appendChild(s);
  }
}

function createDaySparkle() {
  if (!document.body.classList.contains('day')) return;
  for (let i=0;i<40;i++) {
    const s = document.createElement('div');
    s.className = 'snowflake';
    s.textContent = '';
    s.style.left = Math.random()*100+'vw';
    s.style.width = s.style.height = 4 + Math.random()*6 + 'px';
    s.style.borderRadius = '50%';
    s.style.background = 'rgba(255,255,255,0.7)';
    s.style.opacity = Math.random();
    s.style.animation = `sparkle ${2+Math.random()*2}s ease-in-out ${Math.random()*2}s infinite`;
    document.body.appendChild(s);
  }
}

// –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî –Ω–æ—á–Ω–∞—è —Ç–µ–º–∞
createNightSnowflakes();

toggle.onclick = () => {
  const isDay = document.body.classList.toggle('day');
  document.body.classList.toggle('night', !isDay);
  toggle.textContent = isDay ? 'üåô –ù–æ—á—å' : '‚òÄÔ∏è –î–µ–Ω—å';
  // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Å–Ω–µ–∂–∏–Ω–∫–∏/–º–µ—Ä—Ü–∞–Ω–∏—è
  document.querySelectorAll('.snowflake').forEach(s => s.remove());
  if (isDay) createDaySparkle();
  else createNightSnowflakes();
};
</script>

</body>
</html>
